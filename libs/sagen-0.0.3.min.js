/**
 * Sagen.js
 * device detector and viewport rewrite
 *
 * Licensed under The MIT License (MIT).
 *
 * Copyright (c) 2013 - 2014 taikiken
 * @author taikiken from http://inazumatv.com
 * hosted on https://github.com/taikiken/Sagen.js
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * inspired by device.js http://matthewhudson.me/projects/device.js/
 * Copyright (c) 2013 Matthew Hudson
 *
*/var Sagen={};!function(a){"use strict";a.hasClass=function(a,b){var c;return c=new RegExp(b,"i"),a.className.match(c)},a.addClass=function(b,c){return a.hasClass(b,c)?void 0:b.className+=" "+c},a.removeClass=function(b,c){return a.hasClass(b,c)?b.className=b.className.replace(c,""):void 0};var b=function(a){var b=a.document,c=b.getElementById("sagen"),d=!1,e=!1,f=!1,g=!1;return c&&"undefined"!=typeof c.dataset&&("undefined"!=typeof c.dataset.orientation&&(d=!("true"!==c.dataset.orientation.toLowerCase())),"undefined"!=typeof c.dataset.android&&(e=!("true"!==c.dataset.android.toLowerCase())),"undefined"!=typeof c.dataset.ios&&(f=!("true"!==c.dataset.ios.toLowerCase())),"undefined"!=typeof c.dataset.canvas&&(g=!("true"!==c.dataset.canvas.toLowerCase()))),{orientation:d,android:e,ios:f,canvas:g}}(window);a.orientation=function(){return b.orientation},a.android=function(){return b.android},a.ios=function(){return b.android},a.canvas=function(){return b.canvas}}(Sagen),function(a){"use strict";var b=a.build=a.build||{};b.version="0.0.3",b.buildDate="Fri, 07 Feb 2014 10:48:44 GMT"}(this.Sagen),function(a,b){"use strict";function c(){var a,b=[-1,0,0];return v&&(a=i.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)],F=parseFloat(b[0]+"."+b[1]+b[2])),b}function d(){var a,b=[-1,0,0];return w&&(a=i.appVersion.match(/Android (\d+)\.(\d+)\.?(\d+)?/),b=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)],g=parseFloat(b[0]+"."+b[1]+b[2])),b}function e(){var a,b;return a=i.appVersion.match(/Version\/(\d+)\.(\d+)\.?(\d+)?/),b=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)],G=parseFloat(b[0]+"."+b[1]+b[2]),b}var f,g,h,i=a.navigator,j=i.userAgent,k=!!j.match(/msie [6]/i),l=!!j.match(/msie [7]/i),m=!!j.match(/msie [8]/i),n=!!j.match(/msie [9]/i),o=!!j.match(/msie [10]/i),p=!!j.match(/trident\/[7]/i)&&!!j.match(/rv:[11]/i),q=!!j.match(/msie/i)||p,r=k||l||m,s=!!j.match(/ipad/i),t=!!j.match(/ipod/i),u=!!j.match(/iphone/i)&&!s&&!t,v=s||t||u,w=!!j.match(/android/i),x=v||w,y=!!j.match(/chrome/i),z=!!j.match(/firefox/i),A=!!j.match(/safari/i)&&!y,B="undefined"!=typeof a.ontouchstart,C="undefined"!=typeof i.standalone?i.standalone:!1,D=!1,E=!1,F=-1,G=-1,H=[-1,0,0],I=!!a.CanvasRenderingContext2D;w&&(D=!!j.match(/mobile/i),D||(E=!0)),f=c(),h=d(),A&&!x&&(H=e());var J=function(){throw"Browser cannot be instantiated"};J={iOS:{is:function(){return v},number:function(){return f},major:function(){return f[0]},version:function(){return F},iPhone:function(){return u},iPad:function(){return s},iPod:function(){return t},fullScreen:function(){return C}},Android:{is:function(){return w},number:function(){return h},major:function(){return h[0]},version:function(){return g},phone:function(){return D},tablet:function(){return E}},IE:{is:function(){return q},is6:function(){return k},is7:function(){return l},is8:function(){return m},is9:function(){return n},is10:function(){return o},is11:function(){return p},legacy:function(){return r},version:function(){var a=-1;return p?a=11:o?a=10:n?a=9:m?a=8:l?a=7:k&&(a=6),a}},Chrome:{is:function(){return y}},Safari:{is:function(){return A},number:function(){return H},major:function(){return H[0]},version:function(){return G}},Firefox:{is:function(){return z}},Touch:{is:function(){return B}},Mobile:{is:function(){return x},hideURLBar:function(){setTimeout(function(){scrollBy(0,1)},0)}},Canvas:{is:function(){return I},webgl:function(){if(!I)return!1;try{return!!a.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(b){return!1}}}},b.Browser=J}(window,this.Sagen||{}),function(a,b){"use strict";function c(){var a,b=[];l.is()?(l.iPad()?(b.push("ios"),b.push("ipad"),b.push("tablet")):l.iPod()?(b.push("ios"),b.push("ipod"),b.push("mobile")):l.iPhone()&&(b.push("ios"),b.push("iphone"),b.push("mobile")),l.fullScreen()&&b.push("standalone"),a=l.number(),b.push("ios"+a.join("")),b.push("ios"+a[0]),b.push("ios"+a[0]+a[1])):m.is()&&(m.phone()?(b.push("android"),b.push("mobile")):m.tablet()&&(b.push("android"),b.push("tablet")),a=m.number(),b.push("android"+a.join("")),b.push("android"+a[0]),b.push("android"+a[0]+a[1])),k.Touch.is()&&b.push("touch"),o&&b.push("orientation-change"),p&&b.push("orientation"),d(b.join(" "))}function d(a){b.addClass(r,a)}function e(a){b.removeClass(r,a)}function f(){return 90!==j(a.orientation)}function g(){return 90===j(a.orientation)}function h(){var a;f()?(e("landscape"),d("portrait"),a="portrait"):g()&&(e("portrait"),d("landscape"),a="landscape"),s.onOrientation(a)}var i=a.document,j=a.Math.abs,k=b.Browser,l=k.iOS,m=k.Android,n=k.Canvas,o="onorientationchange"in a,p="orientation"in a,q=o?"orientationchange":"resize",r=i.documentElement,s=function(){throw"Device cannot be instantiated"};s={listen:function(){a.addEventListener(q,h,!1)},abort:function(){a.removeEventListener(q,h,!1)},portrait:function(){return f()},landscape:function(){return g()},canvas:function(){n.is()&&(d("canvas"),n.webgl()&&d("webgl"))}},s.onOrientation=function(){},b.Device=s,c(),h(),b.orientation()&&s.listen(),b.canvas()&&s.canvas()}(window,this.Sagen||{}),function(a,b){"use strict";function c(a){var b=f.createElement("meta");return b.name="viewport",b.content=a,b}var d,e,f=a.document,g=b.Browser;!function(){"undefined"!=typeof f.querySelector&&(d=f.querySelector("meta[name='viewport']"),d&&(e=d.content))}();var h=function(){throw"Viewport cannot be instantiated"};h={add:function(a){d&&e&&a&&(d.content=e+", "+a)},replace:function(a,b){b=b||"",d&&e&&a&&(d.content=e.split(a).join(b))},write:function(a){f.getElementsByTagName("head")[0].appendChild(c(a))},Android:{targetDensity:function(){h.add("target-densitydpi=device-dpi")}},iOS:{minimalUI:function(){h.add("minimal-ui")}}},b.Viewport=h,b.android()&&!g.Chrome.is()&&g.Android.is()&&!g.Chrome.is()&&h.Android.targetDensity(),b.ios()&&g.iOS.is()&&g.iOS.version()>=7.1&&h.iOS.minimalUI()}(window,this.Sagen||{});